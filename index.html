<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Claire, Will You Be My Valentine?</title>

  <!-- Confetti library -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

  <style>
    :root {
      --bg1: #2d5016;
      --bg2: #3d6b1f;
      --card: #f5f1e8cc;
      --yes: #6ba82a;
      --yesHover: #558a1f;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      min-height: 100svh;
      display: grid;
      place-items: center;
      background: radial-gradient(circle at top, var(--bg2), var(--bg1));
      font-family: system-ui, sans-serif;
      overflow: hidden;
      padding: 16px;
    }

    /* FULL-SCREEN CONFETTI CANVAS */
    #confettiCanvas {
      position: fixed;
      inset: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      z-index: 9999;
    }

    .card {
      width: min(720px, 92vw);
      padding: 26px 22px;
      background: var(--card);
      backdrop-filter: blur(10px);
      border-radius: 22px;
      text-align: center;
      box-shadow: 0 18px 60px rgba(0,0,0,.15);
    }

    .art {
      width: min(260px, 80vw);
      margin: 0 auto 10px;
      display: block;
      filter: drop-shadow(0 10px 14px rgba(0,0,0,.12));
    }

    .art.running {
      animation: deerRun 0.6s ease-in-out;
    }

    @keyframes deerRun {
      0%, 100% { transform: translateX(0) scaleY(1); }
      25% { transform: translateX(8px) scaleY(0.98); }
      50% { transform: translateX(0) scaleY(1); }
      75% { transform: translateX(-8px) scaleY(0.98); }
    }

    h1 {
      font-size: clamp(26px, 4vw, 44px);
      margin: 12px 0 18px;
      color: #1a3a0a;
    }

    .button-zone {
      position: relative;
      width: min(520px, 92%);
      height: 150px;
      margin: 0 auto;
      touch-action: none;
    }

    button {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      padding: 16px 24px;
      font-size: 18px;
      font-weight: 800;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      box-shadow: 0 10px 24px rgba(0,0,0,.14);
      user-select: none;
      -webkit-tap-highlight-color: transparent;
      transition: transform .12s ease, background .12s ease;
    }

    #yesBtn {
      left: 18%;
      background: var(--yes);
      color: #fff;
    }
    #yesBtn:hover { background: var(--yesHover); transform: translateY(-50%) scale(1.05); }

    #noBtn {
      left: 62%;
      background: #d4b896;
      color: #3d2f1f;
    }

    .hint {
      margin-top: 10px;
      font-size: 13px;
      opacity: .7;
      color: #2d5016;
    }

    .result {
      display: none;
      margin-top: 18px;
      animation: pop .35s ease;
    }

    .result h2 {
      font-size: clamp(30px, 4.5vw, 46px);
      margin: 10px 0;
    }

    .fireworks {
      width: min(380px, 90vw);
      margin: 0 auto;
      display: block;
    }

    @keyframes pop {
      from { transform: scale(.96); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }
  </style>
</head>

<body>
  <canvas id="confettiCanvas"></canvas>

  <main class="card">
    <!-- ANIMAL WITH HEART -->
    <svg class="art" viewBox="0 0 320 240" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <linearGradient id="fur" x1="0" x2="1">
          <stop offset="0" stop-color="#9b7863"/>
          <stop offset="1" stop-color="#7a5d47"/>
        </linearGradient>
        <linearGradient id="heart" x1="0" x2="1">
          <stop offset="0" stop-color="#6ba82a"/>
          <stop offset="1" stop-color="#558a1f"/>
        </linearGradient>
      </defs>

      <!-- Left Deer (Female) -->
      <!-- Head -->
      <ellipse cx="90" cy="110" rx="32" ry="38" fill="url(#fur)"/>
      <!-- Ears -->
      <path d="M70 65 Q60 45 65 30 Q72 40 75 55 Z" fill="url(#fur)"/>
      <path d="M110 65 Q120 45 115 30 Q108 40 105 55 Z" fill="url(#fur)"/>
      <!-- Eyes -->
      <circle cx="80" cy="105" r="4" fill="#1a0f0a"/>
      <circle cx="100" cy="105" r="4" fill="#1a0f0a"/>
      <circle cx="81" cy="104" r="1.5" fill="#fff"/>
      <circle cx="101" cy="104" r="1.5" fill="#fff"/>
      <!-- Eyelashes -->
      <path d="M76 103 L73 97" stroke="#1a0f0a" stroke-width="1" stroke-linecap="round"/>
      <path d="M80 102 L80 96" stroke="#1a0f0a" stroke-width="1" stroke-linecap="round"/>
      <path d="M84 103 L87 97" stroke="#1a0f0a" stroke-width="1" stroke-linecap="round"/>
      <path d="M96 103 L93 97" stroke="#1a0f0a" stroke-width="1" stroke-linecap="round"/>
      <path d="M100 102 L100 96" stroke="#1a0f0a" stroke-width="1" stroke-linecap="round"/>
      <path d="M104 103 L107 97" stroke="#1a0f0a" stroke-width="1" stroke-linecap="round"/>
      <!-- Nose -->
      <ellipse cx="90" cy="125" rx="3" ry="4" fill="#5a483a"/>
      <!-- Mouth -->
      <path d="M90 125 L85 130 M90 125 L95 130" stroke="#5a483a" stroke-width="1" fill="none" stroke-linecap="round"/>
      <!-- Small antlers (female) -->
      <path d="M75 60 L72 45" stroke="url(#fur)" stroke-width="2" fill="none" stroke-linecap="round"/>
      <path d="M105 60 L108 45" stroke="url(#fur)" stroke-width="2" fill="none" stroke-linecap="round"/>
      <!-- Body -->
      <ellipse cx="90" cy="155" rx="28" ry="35" fill="url(#fur)"/>
      <!-- Legs -->
      <rect x="75" y="180" width="6" height="35" fill="url(#fur)" rx="3"/>
      <rect x="95" y="180" width="6" height="35" fill="url(#fur)" rx="3"/>
      <!-- White tail spot -->
      <circle cx="90" cy="188" r="6" fill="#f5f1e8"/>

      <!-- Heart floating between deers -->
      <path d="M160 45 C160 35 170 30 177 38
               C184 30 194 35 194 45
               C194 65 177 75 177 85
               C177 75 160 65 160 45Z"
            fill="url(#heart)"/>

      <!-- Right Deer (Female) -->
      <!-- Head -->
      <ellipse cx="230" cy="110" rx="32" ry="38" fill="url(#fur)"/>
      <!-- Ears -->
      <path d="M210 65 Q200 45 205 30 Q212 40 215 55 Z" fill="url(#fur)"/>
      <path d="M250 65 Q260 45 255 30 Q248 40 245 55 Z" fill="url(#fur)"/>
      <!-- Eyes -->
      <circle cx="220" cy="105" r="4" fill="#1a0f0a"/>
      <circle cx="240" cy="105" r="4" fill="#1a0f0a"/>
      <circle cx="221" cy="104" r="1.5" fill="#fff"/>
      <circle cx="241" cy="104" r="1.5" fill="#fff"/>
      <!-- Eyelashes -->
      <path d="M216 103 L213 97" stroke="#1a0f0a" stroke-width="1" stroke-linecap="round"/>
      <path d="M220 102 L220 96" stroke="#1a0f0a" stroke-width="1" stroke-linecap="round"/>
      <path d="M224 103 L227 97" stroke="#1a0f0a" stroke-width="1" stroke-linecap="round"/>
      <path d="M236 103 L233 97" stroke="#1a0f0a" stroke-width="1" stroke-linecap="round"/>
      <path d="M240 102 L240 96" stroke="#1a0f0a" stroke-width="1" stroke-linecap="round"/>
      <path d="M244 103 L247 97" stroke="#1a0f0a" stroke-width="1" stroke-linecap="round"/>
      <!-- Nose -->
      <ellipse cx="230" cy="125" rx="3" ry="4" fill="#5a483a"/>
      <!-- Mouth -->
      <path d="M230 125 L225 130 M230 125 L235 130" stroke="#5a483a" stroke-width="1" fill="none" stroke-linecap="round"/>
      <!-- Small antlers (female) -->
      <path d="M215 60 L212 45" stroke="url(#fur)" stroke-width="2" fill="none" stroke-linecap="round"/>
      <path d="M245 60 L248 45" stroke="url(#fur)" stroke-width="2" fill="none" stroke-linecap="round"/>
      <!-- Body -->
      <ellipse cx="230" cy="155" rx="28" ry="35" fill="url(#fur)"/>
      <!-- Legs -->
      <rect x="215" y="180" width="6" height="35" fill="url(#fur)" rx="3"/>
      <rect x="235" y="180" width="6" height="35" fill="url(#fur)" rx="3"/>
      <!-- White tail spot -->
      <circle cx="230" cy="188" r="6" fill="#f5f1e8"/>
    </svg>

    <h1>Claire, will you be my valentine? ü¶å</h1>

    <section class="button-zone" id="zone">
      <button id="yesBtn">Yes</button>
      <button id="noBtn">No</button>
    </section>

    <!-- HINT -->
    <div class="hint" id="hint">‚ÄúNo‚Äù seems a bit shy üòà</div>

    <section class="result" id="result">
      <h2>YAY! üéâ</h2>
      <img
        class="fireworks"
        src="https://media.tenor.com/images/6504844234847627559/tenor.gif"
        alt="Heated Rivalry"
      />
    </section>
  </main>

  <script>
    const zone = document.getElementById("zone");
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const result = document.getElementById("result");
    const hint = document.getElementById("hint");

    /* ---------- CONFETTI ---------- */
    const confettiCanvas = document.getElementById("confettiCanvas");

    function resizeConfettiCanvas() {
      const dpr = Math.max(1, window.devicePixelRatio || 1);
      confettiCanvas.width = Math.floor(window.innerWidth * dpr);
      confettiCanvas.height = Math.floor(window.innerHeight * dpr);
      confettiCanvas.style.width = "100vw";
      confettiCanvas.style.height = "100vh";
    }

    resizeConfettiCanvas();
    window.addEventListener("resize", resizeConfettiCanvas);
    window.addEventListener("orientationchange", () => setTimeout(resizeConfettiCanvas, 150));

    const confettiInstance = confetti.create(confettiCanvas, {
      resize: false,
      useWorker: true
    });

    const artEl = document.querySelector('.art');
    let deerRunTimeout;

    function fullScreenConfetti() {
      const end = Date.now() + 1600;

      (function frame() {
        confettiInstance({
          particleCount: 12,
          spread: 90,
          startVelocity: 45,
          ticks: 180,
          origin: { x: Math.random(), y: Math.random() * 0.3 }
        });
        if (Date.now() < end) requestAnimationFrame(frame);
      })();

      setTimeout(() => {
        confettiInstance({
          particleCount: 300,
          spread: 140,
          startVelocity: 60,
          ticks: 220,
          origin: { x: 0.5, y: 0.55 }
        });
      }, 300);
    }

    /* ---------- YES BUTTON GROWS ---------- */
    let yesScale = 1;
    function growYes() {
      yesScale = Math.min(2.2, yesScale + 0.1);
      yesBtn.style.transform = `translateY(-50%) scale(${yesScale})`;
    }

    /* ---------- NO BUTTON RUNS AWAY ---------- */
    function clamp(n, min, max) {
      return Math.max(min, Math.min(max, n));
    }

    function moveNo(px, py) {
      const z = zone.getBoundingClientRect();
      const b = noBtn.getBoundingClientRect();

      let dx = (b.left + b.width / 2) - px;
      let dy = (b.top + b.height / 2) - py;
      let mag = Math.hypot(dx, dy) || 1;
      dx /= mag;
      dy /= mag;

      let newLeft = (b.left - z.left) + dx * 150;
      let newTop  = (b.top - z.top) + dy * 150;

      newLeft = clamp(newLeft, 0, z.width - b.width);
      newTop  = clamp(newTop, 0, z.height - b.height);

      noBtn.style.left = newLeft + "px";
      noBtn.style.top = newTop + "px";
      noBtn.style.transform = "none";

      // Make deers run
      artEl.classList.remove('running');
      clearTimeout(deerRunTimeout);
      artEl.classList.add('running');
      deerRunTimeout = setTimeout(() => {
        artEl.classList.remove('running');
      }, 600);

      growYes();
    }

    zone.addEventListener("pointermove", e => {
      const b = noBtn.getBoundingClientRect();
      const d = Math.hypot(
        (b.left + b.width / 2) - e.clientX,
        (b.top + b.height / 2) - e.clientY
      );
      if (d < 140) moveNo(e.clientX, e.clientY);
    });

    noBtn.addEventListener("click", e => e.preventDefault());

    /* ---------- YES CLICK ---------- */
    yesBtn.addEventListener("click", () => {
      zone.style.display = "none";
      hint.style.display = "none";     // HIDE THE HINT
      result.style.display = "block";
      resizeConfettiCanvas();
      fullScreenConfetti();
    });
  </script>
</body>
</html>



